<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>My Notes / Diary</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <!-- Libraries for PDF and Excel export -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
  </head>
  <body>
    <!-- Login/Register Screen -->
    <div id="authScreen" class="auth-screen">
      <div class="auth-container">
        <h1 class="auth-title">My Notes App</h1>
        <p class="auth-subtitle">Sign in to access your notes</p>
        
        <div class="auth-tabs">
          <button id="loginTabBtn" class="auth-tab active">Login</button>
          <button id="registerTabBtn" class="auth-tab">Register</button>
        </div>

        <!-- Login Form -->
        <form id="loginForm" class="auth-form active">
          <div class="form-group">
            <label for="loginEmail">Email</label>
            <input
              id="loginEmail"
              type="email"
              class="form-input"
              placeholder="your@email.com"
              required
            />
          </div>
          <div class="form-group">
            <label for="loginPassword">Password</label>
            <input
              id="loginPassword"
              type="password"
              class="form-input"
              placeholder="Enter your password"
              required
            />
          </div>
          <button type="submit" class="btn btn-primary btn-full">Login</button>
          <p id="loginError" class="error-message"></p>
        </form>

        <!-- Register Form -->
        <form id="registerForm" class="auth-form">
          <div class="form-group">
            <label for="registerName">Full Name</label>
            <input
              id="registerName"
              type="text"
              class="form-input"
              placeholder="John Doe"
              required
            />
          </div>
          <div class="form-group">
            <label for="registerEmail">Email</label>
            <input
              id="registerEmail"
              type="email"
              class="form-input"
              placeholder="your@email.com"
              required
            />
          </div>
          <div class="form-group">
            <label for="registerPassword">Password</label>
            <input
              id="registerPassword"
              type="password"
              class="form-input"
              placeholder="Minimum 6 characters"
              minlength="6"
              required
            />
          </div>
          <div class="form-group">
            <label for="registerPasswordConfirm">Confirm Password</label>
            <input
              id="registerPasswordConfirm"
              type="password"
              class="form-input"
              placeholder="Re-enter your password"
              required
            />
          </div>
          <button type="submit" class="btn btn-primary btn-full">Create Account</button>
          <p id="registerError" class="error-message"></p>
        </form>
      </div>
    </div>

    <!-- Main App (shown when logged in) -->
    <div id="mainApp" class="app" style="display: none;">
      <header class="app-header">
        <div class="header-left">
          <h1>My Notes</h1>
          <div class="workflow-indicator">
            <span id="workflowName" class="workflow-name">AI_Robotics Project</span>
          </div>
        </div>
        <div class="header-right">
          <input
            id="searchInput"
            class="search-input"
            type="text"
            placeholder="Search notes..."
          />
          <div class="user-info">
            <span id="userNameDisplay" class="user-name"></span>
            <button id="logoutBtn" class="btn btn-secondary btn-small">Logout</button>
          </div>
        </div>
      </header>

      <main class="app-main">
        <section class="note-editor">
          <input
            id="noteTitle"
            class="note-title-input"
            type="text"
            placeholder="Title"
          />
          <textarea
            id="noteContent"
            class="note-content-input"
            rows="4"
            placeholder="Write your note here..."
          ></textarea>
          <div class="date-input-wrapper">
            <label for="noteDate" class="date-label">Task Date:</label>
            <input
              id="noteDate"
              class="note-date-input"
              type="date"
            />
          </div>
          <div class="note-editor-actions">
            <button id="clearBtn" class="btn btn-secondary">Clear</button>
            <button id="saveBtn" class="btn btn-primary">Save Note</button>
          </div>
        </section>

        <section class="notes-list-section">
          <div class="notes-list-header">
            <h2>Your Notes</h2>
            <select id="sortSelect" class="sort-select">
              <option value="latest">Latest first</option>
              <option value="oldest">Oldest first</option>
              <option value="title">Title Aâ€“Z</option>
              <option value="taskDate">Task Date (earliest)</option>
              <option value="taskDateDesc">Task Date (latest)</option>
            </select>
            <select id="filterDateSelect" class="sort-select">
              <option value="">All Dates</option>
              <option value="today">Today</option>
              <option value="thisWeek">This Week</option>
              <option value="thisMonth">This Month</option>
            </select>
          </div>
          
          <div class="export-section">
            <h3 class="export-title">Export All Tasks for a Day</h3>
            <div class="export-controls">
              <label for="exportDate" class="export-label">Select Date:</label>
              <input
                id="exportDate"
                class="export-date-input"
                type="date"
              />
              <button id="exportPdfBtn" class="btn btn-export btn-pdf">
                ðŸ“„ Export Day to PDF
              </button>
              <button id="exportExcelBtn" class="btn btn-export btn-excel">
                ðŸ“Š Export Day to Excel
              </button>
            </div>
          </div>

          <div id="notesContainer" class="notes-grid"></div>
          <p id="emptyState" class="empty-state">No notes yet. Start writing!</p>
        </section>
      </main>
    </div>


    <script src="auth.js"></script>
    <script src="workflow.js"></script>
    <script src="app.js"></script>
  </body>
</html>


